{% extends "base.html" %}

{% block content %}


<h1>{{market.title}}</h1>

Closes Nov 5, 2024

<hr>

{% for (book, orderbook) in books.iter().zip(orderbooks) %}

<article>
    <details>
        <summary>
            <div class="grid">
                <strong>{{book.title}}</strong>
                <div style="display: flex; justify-content: flex-end">
                    {% match book.last_trade_price %}
                    {% when Some with (val) %}
                    <kbd>{{val / 100}}.{{"{:0>2}"|format(val % 100)}}¢</kbd>&nbsp;
                    {% when None %}
                    <kbd>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</kbd>
                    {% endmatch %}
                </div>
            </div>
            <small>$7,669,592 Bet</small>
        </summary>

        <p>Order book</p>
        <table>
            <thead>
                <tr>
                    <th scope="col">Price</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Total</th>
                </tr>
            </thead>
            <tbody>
                {% for (price, quantity, value) in orderbook.asks %}
                <tr>
                    <td class="pico-color-red-350">{{price}}¢</td>
                    <td>{{quantity}}</td>
                    <td>${{value}}</td>
                </tr>
                {% endfor %}
                {% for (price, quantity, value) in orderbook.bids %}
                <tr>
                    <td class="pico-color-green-350">{{price}}¢</td>
                    <td>{{quantity}}</td>
                    <td>${{value}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {{orderbook.order_form|safe}}
    </details>
</article>

{% endfor %}

{{market.description|markdown}}

{% endblock %}